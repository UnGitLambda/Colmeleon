# -*- coding: utf-8 -*-
import sys
import os
import tkinter as tk
import CorruptedException as ce
sys.path.insert(0,f"{os.path.abspath('..')}")
from Image import Image
while(f"{os.path.abspath('..')}" in sys.path):
    sys.path.remove(f"{os.path.abspath('..')}")

class FrameDnD(tk.Frame):
    def _check_drop(event):
        file = str(event.data).replace("{", "").replace("}", "")
        assert file.endswith("png") or file.endswith("pdf") or file.endswith("jpg") or file.endswith("jpeg") or file.endswith("bmp") or file.endswith("gif")
        try:
            with Image.Image(file) as img:
                img.verify()
            return()
        except:
            raise ce.CorruptedFileException("The file given seems corrupted.")