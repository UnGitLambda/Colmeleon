# -*- coding: utf-8 -*-
"""
@author: L3F1
"""
import os
import Image

class Saver:
    def __init__(self, directory):
        """
        The path to the direcrtory is given as a String.
        """
        assert type(directory) is str, f"Saver : the path to the directory must be given as a String, it can not be {type(directory)}"
        if(not os.path.exists(directory)):
            os.mkdir(directory)
        assert os.path.isdir(directory), "Saver : The path given does not lead to a directory, please fix this issue before trying again."
        self._directory = os.path.abspath(directory)

    def save(self,image):
        assert type(image) is Image.Image
        image.save(f"{self._directory}/{hash(image)}.jpg")
        
    def __eq__(self, o):
        if(not(isinstance(o,Saver))):
            return(False)
        return(hash(self) == hash(o))
    
    def __hash__(self):
        return hash(self._directory)