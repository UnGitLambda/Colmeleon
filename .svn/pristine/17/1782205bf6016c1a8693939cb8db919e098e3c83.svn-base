# -*- coding: utf-8 -*-
from Histogram import Histogram
from Database import Database
import matplotlib.pyplot as plt
from Image import Image

def intersection(histo1, histo2):
    "This function calculates the intersection of two histograms"
    assert type(histo1) is Histogram
    assert type(histo2) is Histogram
    histo=[]
    bin=abs(histo1.bins - histo2.bins)
    for i in range(bin):
        histo[i]=min(histo1[i], histo2[i])
    return plt.hist(histo, bin)

def incremental_intersection(histo1, histo2):
    "This function calculates the intersection of two histograms, evaluating only the largest bins of the histograms"
    assert type(histo1) is Histogram
    assert type(histo2) is Histogram


def retrieval(depth=15):
    "This function calculates the closest matching images in the database. It returns as many images as the value of depth argument"
    assert type(depth) is int

def label_images(img):
    "This function is a labelling of a given image according to potential(s) caracteristic(s)"
    assert type(img) is Image

def cluster(db):
    "Groups the images in the database according to the labels that have been assigned to them"
    assert type(db) is Database

def _add_database():
    "If the no_add argument of the application is false, this function is called then calls the add function of Database to add each image and its color histogram to the database"