# -*- coding: utf-8 -*-
"""
@author: L3F1
"""
import os
import Image
import os.path as path

class Saver:
    def __init__(self, directory):
        """
        The path to the direcrtory is given as a String.
        """
        assert type(directory) is str, f"Saver : the path to the directory must be given as a String, it can not be {type(directory)}"
        if(not os.path.exists(directory)):
            os.mkdir(directory)
        assert os.path.isdir(directory), "Saver : The path given does not lead to a directory, please fix this issue before trying again."
        self._directory = directory

    def save(image):
        assert type(image) is Image.Image
        image.save("{}.jpg".format(hash(image)))
        
    def __eq__(self, o):
        if(not(isinstance(o,Saver))):
            return(False)
        return(path.abspath(o._directory) == path.abspath(self._directory))